self.scriptsLoaded = self.scriptsLoaded || {}; self.scriptProcessStart = self.scriptProcessStart || {}; self.scriptProcessStart['owa.IRISService.js'] = (new Date()).getTime();(window.$wj=window.$wj||[]).push([[244],{11933:function(e,t,i){"use strict";i.r(t);var r=i(9),n=i(18);function s(e){var t={Puid:Object(r.a)().SessionSettings.EncryptedUserPuid,Locale:Object(r.a)().SessionSettings.UserCulture,OWAContentId:e},i=new Headers;i.append("Content-Type","application/json");var s={method:"Post",headers:i,body:JSON.stringify(t)};1===Object(r.a)().SessionSettings.WebSessionType&&fetch("https://onerm.olsvc.com/api/v1/promo",s).then(function(){""!=e.trim()&&e!="None".toString()&&Object(n.o)("IRISApiParameters",{contentId:e.toString(),locale:t.Locale.toString()},{isCore:!0})})}var a=i(4485);i.d(t,"postIRISService",function(){return s}),i.d(t,"getExperienceTypeForUser",function(){return a.a})},4028:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(1),n=Object(r.createStore)("premiumTravelStore",{isInit:!1,premiumExperienceType:"None",isActivated:!1,savings:""})()},4485:function(e,t,i){"use strict";var r,n=i(4028),s=i(0),a=i(75),o="ows/api/v1/PremiumUserExperience";function c(e){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(i){return r||(t=e,r=Object(a.d)(o,t)),[2,r]})})}var u,p="ows/api/beta/PremiumTravel";function m(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return u||(u=Object(a.b)(p)),[2,u]})})}var d=i(1),v=Object(d.mutatorAction)("persistResponse",function(e){e&&(n.a.premiumExperienceType=e),n.a.isInit=!0}),l=i(6),b=i(166),f=Object(d.mutatorAction)("persistResponse",function(e){if(e.length&&e[0].lastModifiedDateTime){var t=Object(l.Wb)(e[0].lastModifiedDateTime);n.a.isActivated=Object(l.vb)(Object(l.b)(Object(b.g)(),-48),t),n.a.isActivated&&(n.a.savings=e[0].savings)}}),h=i(5),g=i(18),j=i(27),S=i(907);function O(){return s.__awaiter(this,void 0,void 0,function(){var e,t,i,r;return s.__generator(this,function(s){switch(s.label){case 0:return n.a.isInit?[3,5]:(e=[],Object(h.d)("auth-PremiumTravelExpcf")&&e.push("auth-premiumtravelexpcf"),Object(h.d)("auth-PremiumTravelExp")&&e.push("auth-premiumtravelexp"),Object(h.d)("auth-PremiumTravelActivateRamp")&&e.push("auth-premiumtravelactivateramp"),Object(h.d)("auth-PremiumTravelUpsellRamp")&&e.push("auth-premiumtravelupsellramp"),[4,c(e)]);case 1:return t=s.sent(),v(t),"None"==t?[3,3]:(Object(g.o)("GetUserExperienceType",{userPuid:Object(j.f)().SessionSettings.UserPuid.toString(),clientFlights:e.toString(),experienceType:t.toString()},{isCore:!0}),[4,Object(S.a)()]);case 2:i=s.sent(),Object(g.o)("GetUserPersistedFlights",{userPuid:Object(j.f)().SessionSettings.UserPuid.toString(),sdsPersistedFlights:i.flightNames.toString()},{isCore:!0}),s.label=3;case 3:return[4,m()];case 4:r=s.sent(),f(r),s.label=5;case 5:return[2,n.a.premiumExperienceType]}})})}i.d(t,"a",function(){return O})}},0,[463,87,464,98]]);
//# sourceMappingURL=owa.IRISService.js.map
self.scriptsLoaded['owa.IRISService.js'] = 1; self.scriptProcessEnd = self.scriptProcessEnd || {}; self.scriptProcessEnd['owa.IRISService.js'] = (new Date()).getTime();