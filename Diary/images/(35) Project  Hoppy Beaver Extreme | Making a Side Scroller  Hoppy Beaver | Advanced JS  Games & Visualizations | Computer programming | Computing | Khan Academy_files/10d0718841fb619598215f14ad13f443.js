(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["10d0718841fb619598215f14ad13f443"],{ChHZ:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("yXV3");r("2B1R");r("zKZe");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var p=w(r("q1tI"));var a=O(r("i8i4"));var n=r("/MKj");var i=r("mR6N");var u=r("Vxy9");var o=O(r("Pwnf"));var c=r("JimW");var l=O(r("wa3X"));var d=O(r("HbaH"));var v=O(r("17AU"));var s=O(r("TqM9"));var f=O(r("x1xB"));var b=O(r("++Bp"));var y=O(r("og3G"));var m=r("p3MR");var g=r("DDFQ");var h=r("AE4M");function O(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){I(t,e,r[e])})}return t}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return j.apply(this,arguments)}function E(e,t){if(e==null)return{};var r=S(e,t);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function S(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function T(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function C(e,t,r){if(t)k(e.prototype,t);if(r)k(e,r);return e}function M(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return D(e)}function D(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return x(e)}function R(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)A(e,t)}function A(e,t){A=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return A(e,t)}function I(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var B=function(e){R(t,e);function t(){T(this,t);return M(this,x(t).apply(this,arguments))}C(t,[{key:"render",value:function e(){var t=this.props,r=t.isTabSelected,n=t.trigger,o=t.numTabs,a=E(t,["isTabSelected","trigger","numTabs"]);return p.createElement("button",j({className:(0,i.css)(q.notAButton,q.tabTrigger,r?q.activeTab:q.inactiveTab),"aria-setsize":o,"data-test-id":"discussion-tab"},a),p.createElement(u.LabelLarge,{tag:"h2"},n))}}]);return t}(p.Component);I(B,"defaultProps",{isTabSelected:false});var N=function e(t){var r=t.children;return p.createElement(c.View,{style:q.loginUpsell},p.createElement(c.View,{style:q.upsellText},p.createElement(u.HeadingSmall,{tag:"h2"},m.upsellStrings.heading)),p.createElement(c.View,{style:q.loginButtonContainer},r))};var V=function(e){R(r,e);function r(e){var f;T(this,r);f=M(this,x(r).call(this,e));I(D(f),"state",{showSignUpModal:false,showMistakesTab:false});I(D(f),"captureRef",function(e,t){if(t==="questions"){f.questionsTabNode=e}else if(t==="comments"){f.commentsTabNode=e}else{f.mistakesTabNode=e}});I(D(f),"getTabNode",function(e){if(e==="questions"){return f.questionsTabNode}else if(e==="comments"){return f.commentsTabNode}else{return f.mistakesTabNode}});I(D(f),"handleReportMistake",function(){f.setState({showMistakesTab:true});f.props.onTabChanged("clarifications")});I(D(f),"getRestrictionReason",function(){var e=f.props.discussionContext;if(e.notEnoughPoints){return f.renderPointsUpsell()}return null});I(D(f),"getTabContent",function(a){var e=f.props,i=e.discussionContext,u=e.onPostSuccess,c=e.contentKind,l=e.hasUnansweredHelpRequests;var s=m.tabsStrings[a];return p.createElement(v.default,{mockOnFirstRender:true},function(e){var t=c==="scratchpad"&&i.authorKaid===e.getKaid();if(!e.isLoggedIn()){return f.renderLoginUpsell()}if(a==="questions"&&t){var r=m.userProjectsStrings.wantToAskQuestion,n=m.userProjectsStrings.helpRequestsLink,o=m.userProjectsStrings.questionsTabForQuestions;return"".concat(r," ").concat(n," ").concat(o)}if(a==="projecthelp"&&t){if(l===null||l===undefined){return null}if(l===true){return m.userProjectsStrings.cantPostHelpRequest}}if(a==="projecthelp"&&!t){return m.userProjectsStrings.authorHelpRequestsWillAppearHere}return p.createElement(d.default,j({tab:s.key,onPostSuccess:u,onReportMistake:f.handleReportMistake},f.props))})});I(D(f),"createRenderers",function(i){var e=function e(t,r){var n=t.key,o=t.trigger,a=t.content;return{key:n,renderTab:function e(t,r){return p.createElement(B,j({numTabs:i.length,ref:function e(t){return f.captureRef(t,n)},key:r.id,trigger:o,isTabSelected:t||false},r),o)},renderContent:function e(){return a}}};return i.map(e)});I(D(f),"renderPointsUpsell",function(){return p.createElement(u.Body,{style:q.tabContent},p.createElement(N,null,p.createElement(u.Body,null,m.upsellStrings.notEnoughPoints)))});I(D(f),"renderLoginUpsell",function(){var e=window.location.pathname;if(e.indexOf("?")===-1){e+="?".concat(h.loggedInQueryName,"=true")}else{e+="&".concat(h.loggedInQueryName,"=true")}return p.createElement(c.View,null,p.createElement(N,null,p.createElement(l.default,{style:q.loginButton,onClick:function e(){return f.setState({showSignUpModal:true})}},m.upsellStrings.buttonContent)),f.state.showSignUpModal&&p.createElement(b.default,{initialPurpose:"login",initialRole:"learner",onClose:function e(){return f.setState({showSignUpModal:false})},continueUrl:e}))});var t=f.createTabs();if(t.length){f.state={showSignUpModal:false,showMistakesTab:false}}return f}C(r,[{key:"componentDidUpdate",value:function e(t){var r=this.props.currentTabKey;if(r===t.currentTabKey){return}if(r==="clarifications"&&!this.state.showMistakesTab){this.setState({showMistakesTab:true});return}var n=this.getTabNode(r);if(n){var o=a.default.findDOMNode(n);if(o){setTimeout(function(){return o.focus()},0)}}}},{key:"createTabs",value:function e(){var n=this;var o=this.props.discussionContext;var t=Object.keys(m.tabsStrings);var r=t.filter(function(e){return(n.state.showMistakesTab||e!=="clarifications")&&(o.showProjectFeedback||e!=="projecthelp")});return r.map(function(e){var t=m.tabsStrings[e];var r=o.restrictPosting?n.getRestrictionReason():p.createElement(u.Body,{style:q.tabContent},n.getTabContent(e));return{key:t.key,trigger:p.createElement("span",{"aria-label":t.label},t.label),content:r}})}},{key:"render",value:function e(){var t=this;var r=this.createTabs();if(!r.length){return null}return p.createElement(c.UniqueIDProvider,{mockOnFirstRender:false,scope:"discussionTabbedPanel"},function(e){return p.createElement(c.View,{style:q.container},p.createElement(y.default,{tabs:t.createRenderers(r),selectedTabKey:t.props.currentTabKey,onTabChanged:t.props.onTabChanged,id:e.get("")},function(e,t){return[e(),p.createElement("div",{className:(0,i.css)(q.separator),key:"discussionTabsSeparator"}),t()]}))})}}]);return r}(p.Component);var q=i.StyleSheet.create({activeTab:P({color:o.default.blue},f.default.navbar.activeTab),inactiveTab:P({},f.default.navbar.inactiveTab),separator:P({},s.default.separator),container:P({position:"static"},s.default.discussionContainer),tabContent:{padding:"16px 0px",marginBottom:32,color:o.default.offBlack},tabTrigger:{zIndex:1,height:48,color:o.default.offBlack,boxShadow:"inset 0 -4px",":not(:last-child)":{marginRight:24}},loginUpsell:{textAlign:"center",padding:"32px 0 22px 0"},upsellText:{marginBottom:18},loginButtonContainer:{flexDirection:"row",justifyContent:"center"},loginButton:{minWidth:138},notAButton:P({},s.default.notAButton)});var F=function e(t){return{currentTabKey:t.currentTab,hasUnansweredHelpRequests:t.hasUnansweredHelpRequests}};var L={onPostSuccess:g.postSuccessAction,onTabChanged:g.changeTabAction};var U=(0,n.connect)(F,L)(V);t.default=U},MTqu:function(e,t,r){"use strict";r("5DmW");r("NBAS");r("07d7");r("JfAA");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=f(r("q1tI"));var o=r("mR6N");var a=s(r("NlKi"));var i=r("Vxy9");var u=r("JimW");var c=f(r("Pwnf"));var l=s(r("Q8Wn"));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}function b(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}var i18n=r("HEOz");var O=function(e){g(r,e);function r(e){var t;p(this,r);t=b(this,m(r).call(this,e));t.state={error:null,errorInfo:null};return t}v(r,[{key:"componentDidCatch",value:function e(t,r){this.setState({error:t,errorInfo:r});a.default.captureException(t,{extra:r})}},{key:"render",value:function e(){if(this.state.errorInfo){var t=this.props.style;if(l.default.IS_DEV_SERVER){return n.createElement(u.View,{style:[t,w.stackTraceContainer]},n.createElement(i.HeadingMedium,null,i18n.doNotTranslate("Something went wrong.")),n.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack))}else{return null}}return this.props.children}}]);return r}(n.Component);t.default=O;var w=o.StyleSheet.create({stackTraceContainer:{padding:20,border:"solid 1px ".concat(c.default.red),borderRadius:4,backgroundColor:(0,c.fade)(c.default.red,.25)}})},P2Dy:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=b(r("q1tI"));var n=r("/MKj");var u=r("mR6N");var c=a(r("wa3X"));var l=r("Vxy9");var s=r("JimW");var f=a(r("PFZ4"));var p=a(r("17AU"));var d=r("p3MR");var v=a(r("TqM9"));var o=r("DDFQ");function a(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){m(t,e,r[e])})}return t}function m(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function O(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function w(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return P(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return j(e)}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return S(e,t)}var T=function(e){E(t,e);function t(){g(this,t);return w(this,j(t).apply(this,arguments))}O(t,[{key:"render",value:function e(){var t=this.props,r=t.acceptedClarificationPosts,n=t.isComplete,o=t.cursor,a=t.onNextPage;return i.createElement(s.View,{style:v.default.discussionContainer},i.createElement(p.default,{mockOnFirstRender:true},function(e){return i.createElement(s.View,{style:v.default.listWrapper},i.createElement(l.LabelLarge,{style:v.default.clarificationsListHeader},d.miscStrings.clarificationListAccepted),i.createElement("ul",null,r.map(function(e){return i.createElement("li",{key:e.key,className:(0,u.css)(k.post)},i.createElement(f.default,{post:e}))})))}),o&&!n&&i.createElement(c.default,{onClick:a},d.miscStrings.showMore))}}]);return t}(i.Component);var k=u.StyleSheet.create({post:y({},v.default.postWrapper)});var C=function e(t){var r=t.tabs.clarifications;return{acceptedClarificationPosts:t.acceptedClarificationPosts,cursor:r.cursor,isComplete:r.isComplete}};var M={onNextPage:o.getNextPageAction};var D=(0,n.connect)(C,M)(T);t.default=D},PFZ4:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");r("07d7");r("JfAA");Object.defineProperty(t,"__esModule",{value:true});t.default=t.DiscussionPostAcceptedClarification=void 0;var p=u(r("q1tI"));var n=r("/MKj");var l=r("vwLt");var d=r("Vxy9");var o=r("mR6N");var v=r("JimW");var f=i(r("qRmI"));var b=i(r("mt3D"));var y=r("IZy4");var m=i(r("17AU"));var g=r("p3MR");var h=r("AE4M");var O=i(r("TqM9"));var w=i(r("mCQM"));var a=r("DDFQ");function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function P(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);return e}function j(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return S(e)}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}function S(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function T(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)k(e,t)}function k(e,t){k=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return k(e,t)}function C(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var M=function(e){T(o,e);function o(){var e;var f;c(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}f=j(this,(e=E(o)).call.apply(e,[this].concat(r)));C(S(f),"renderPostHeader",function(){var e=f.props.post;var t=e.reporter,r=e.openTimestamp,n=e.closeTimestamp;var o=t.nickname,a=t.kaid;var i=(0,y.getTimestampFromSeconds)(r);var u=(0,y.getTimestampFromSeconds)(n);var c="".concat(i.minutes,":").concat(i.seconds);var l="".concat(u.minutes,":").concat(u.seconds);var s=g.miscStrings.appearsAtTimestamp(c,l);return p.createElement(v.View,{style:O.default.postHeader},p.createElement(v.View,{style:O.default.nameAndDatetime},p.createElement(h.PostAuthorName,{name:o,kaid:a}),p.createElement(d.LabelMedium,{style:[O.default.datetime,D.videoTimestampLink]},p.createElement(y.VideoTimestampLink,{timestamp:c,minutes:i.minutes.toString(),seconds:i.seconds.toString(),children:s}))),p.createElement(m.default,{mockOnFirstRender:true},function(e){return p.createElement(p.Fragment,null,f.renderModeratorActions(e,O.default.actionPickerMobile))}))});return f}P(o,[{key:"renderModeratorActions",value:function e(t,r){var n=t.getUserProfile();if(!n||!n.attributes||!n.attributes.isModerator){return null}var o=this.props,a=o.onDeleteAcceptedClarificationPost,i=o.onStartEditingPost,u=o.post;var c=[p.createElement(l.ActionItem,{key:"edit",label:g.postStrings.edit,onClick:function e(){return i(u.key)}}),p.createElement(l.ActionItem,{key:"delete",label:g.postStrings.delete,onClick:function e(){return a(u)}})];return p.createElement(l.ActionMenu,{menuText:"more",alignment:"right",style:r},c)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.post,o=r.postBeingEditedKey,a=r.onStopEditingPost;var i=n.reporter,u=i.nickname,c=i.avatarSrc,l=i.kaid;var s=n.key===o;return p.createElement(v.View,{testId:"discussion-post"},!s&&p.createElement(v.View,{style:O.default.post},p.createElement(b.default,{username:u,avatarName:null,avatarSrc:c,kaid:l,enableProfilePreviewTooltip:true}),p.createElement(v.View,{style:O.default.everythingButTheAvatar},this.renderPostHeader(),p.createElement(v.View,{style:O.default.contentContainer},p.createElement(d.Body,{style:O.default.content},p.createElement(v.View,null,n.content))),p.createElement(m.default,{mockOnFirstRender:true},function(e){return p.createElement(v.View,{style:O.default.postFooter},p.createElement(w.default,null),p.createElement(v.View,{style:O.default.tools},t.renderModeratorActions(e,O.default.actionPickerDesktop)))}))),s&&p.createElement(f.default,{post:n,editingOrAccepting:"editing",onCancel:a}))}}]);return o}(p.Component);t.DiscussionPostAcceptedClarification=M;var D=o.StyleSheet.create({videoTimestampLink:{marginBottom:-2}});var x={onDeleteAcceptedClarificationPost:a.deleteAcceptedClarificationPost,onStartEditingPost:a.startEditingPostAction,onStopEditingPost:a.stopEditingPostAction};var R=function e(t){var r=t.postBeingEditedKey;return{postBeingEditedKey:r}};var A=(0,n.connect)(R,x)(M);var I=A;t.default=I},UdSq:function(e,t,r){"use strict";r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(r("q1tI"));var o=r("/MKj");var a=r("mR6N");var i=l(r("t0zn"));var u=l(r("rlH3"));var c=l(r("MTqu"));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}var h=function(e){m(t,e);function t(){f(this,t);return v(this,y(t).apply(this,arguments))}d(t,[{key:"render",value:function e(){return n.createElement(o.Provider,{store:i.default},n.createElement(c.default,{style:O.errorBoundary},n.createElement(u.default,this.props)))}}]);return t}(n.Component);t.default=h;var O=a.StyleSheet.create({errorBoundary:{maxWidth:688,margin:"auto"}})},oIKl:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=b(r("q1tI"));var o=r("/MKj");var a=r("mR6N");var i=r("Vxy9");var u=r("JimW");var c=r("vwLt");var l=r("DDFQ");var s=r("TqM9");var f=r("p3MR");var p=v(r("uEGL"));var d=r("JasB");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){S(t,e,r[e])})}return t}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}function O(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return P(e)}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function S(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var T=[{value:"top-voted",label:f.headerStrings.topVoted},{value:"recent",label:f.headerStrings.recent}];var k=function(e){j(a,e);function a(){var e;var r;m(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=O(this,(e=w(a)).call.apply(e,[this].concat(n)));S(P(r),"handleFilterChanged",function(e){var t=r.props.onSortByChanged;t(e)});return r}h(a,[{key:"render",value:function e(){var t=this.props.currentSort;return n.createElement(u.View,{style:C.container},n.createElement(d.Spring,null),n.createElement(u.View,{style:C.filterContainer},n.createElement(i.LabelLarge,null,f.headerStrings.sortBy),n.createElement(c.SingleSelect,{onChange:this.handleFilterChanged,selectedValue:t,style:C.select},T.map(function(e){return n.createElement(c.OptionItem,{value:e.value,key:e.value,label:e.label})}))))}}]);return a}(n.Component);var C=a.StyleSheet.create({container:y({},s.discussionContainer,S({flexDirection:"row",justifyContent:"space-between",paddingTop:6,paddingBottom:22},p.default.xsOrSmaller,{paddingLeft:8,flexDirection:"column"})),countContainer:S({},p.default.xsOrSmaller,{paddingBottom:24}),filterContainer:{flexDirection:"row",alignItems:"center"},totalCount:{paddingTop:6},select:{minWidth:176,marginLeft:8,fontSize:14}});var M=function e(t){var r=t.tabs[t.currentTab].totalCount||0;return{totalCount:r,currentSort:t.currentSort}};var D={onSortByChanged:l.changeSortByAction};var x=(0,o.connect)(M,D)(k);t.default=x},rlH3:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var f=s(r("q1tI"));var p=l(r("i8i4"));var n=r("/MKj");var o=r("mR6N");var d=r("JimW");var v=l(r("17AU"));var a=s(r("TqM9"));var b=l(r("Az/T"));var y=l(r("P2Dy"));var m=l(r("ChHZ"));var g=l(r("oIKl"));var h=r("AE4M");var i=l(r("6OHE"));var u=r("8SBg");var c=r("DDFQ");function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return O.apply(this,arguments)}function w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){D(t,e,r[e])})}return t}function P(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function E(e,t,r){if(t)j(e.prototype,t);if(r)j(e,r);return e}function S(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return k(e)}function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return T(e)}function k(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)M(e,t)}function M(e,t){M=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return M(e,t)}function D(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var x=5e3;var R=function(e){C(o,e);function o(){var e;var i;P(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=S(this,(e=T(o)).call.apply(e,[this].concat(r)));D(k(i),"handleInitializeContent",function(){var e=i.props,t=e.onInitializeContent,r=e.contentKind,n=e.contentId,o=e.discussionContext,a=e.videoModel;t(r,n,a&&a.attributes&&a.attributes.translatedYoutubeId,o&&o.expandFeedbackType,o&&o.qaExpandKey)});D(k(i),"getRestrictions",function(e,t){var r=e.getUserProfile();if(!r||!r.get||!e.isLoggedIn()){return{restrictPosting:t}}var n=r.get("isModerator");var o=r.get("points");var a=!n&&o<x;return{restrictPosting:a||t,notEnoughPoints:a}});return i}E(o,[{key:"componentDidMount",value:function e(){this.handleInitializeContent();var t=this.discussionRoot;if(t&&(0,h.userHasJustLoggedIn)(window.location)){var r=i.default.standardTransitionMs*2;setTimeout(function(){return(0,u.scrollToElement)(t,r)},0)}}},{key:"componentDidUpdate",value:function e(t){if(this.props.contentId!==t.contentId){this.handleInitializeContent()}}},{key:"componentWillUnmount",value:function e(){this.props.onTabChanged("questions")}},{key:"render",value:function e(){var r=this;var t=this.props,n=t.topicSlug,o=t.discussionContext,a=t.contentKind,i=t.tab,u=t.acceptedClarificationPosts,c=t.clarificationsEnabled;var l=!o.restrictPosting;var s=a==="Video"&&i==="clarifications"&&!!u.length;return f.createElement(v.default,{mockOnFirstRender:true},function(e){var t=w({},o,r.getRestrictions(e,o.restrictPosting));return f.createElement(d.View,{style:A.container,ref:function e(t){return r.discussionRoot=p.default.findDOMNode(t)},tabIndex:-1},f.createElement(g.default,null),f.createElement(m.default,O({},r.props,{discussionContext:t})),l&&f.createElement(d.View,{style:A.separator}),s&&f.createElement(d.View,null,f.createElement(y.default,null),f.createElement(d.View,{style:A.separator})),f.createElement(b.default,{topicSlug:n,discussionContext:t,clarificationsEnabled:c}),f.createElement(h.EnglishLink,{style:A.englishLink}))})}}]);return o}(f.Component);D(R,"defaultProps",{discussionContext:{}});var A=o.StyleSheet.create({container:w({},a.discussionContainer,{paddingBottom:8}),separator:{borderTop:a.default.border},englishLink:{margin:"20px 0 0 20px"}});var I={onInitializeContent:c.initializeContentAction,onTabChanged:c.changeTabAction};var B=function e(t){return{tab:t.currentTab,acceptedClarificationPosts:t.acceptedClarificationPosts}};var N=(0,n.connect)(B,I)(R);t.default=N}}]);
//# sourceMappingURL=../../sourcemaps/en/10d0718841fb619598215f14ad13f443.7d4822b9b01b515b06b7.js.map