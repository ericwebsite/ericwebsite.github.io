(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d2d956a9d26c34a2a8904cf9f1d0197e"],{AuwW:function(e,t,l){"use strict";l("ma9I");l("5DmW");l("NBAS");l("07d7");l("5s+n");var d=a(l("q1tI"));var o=n(l("SY2B"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function i(e,t,n){if(t)c(e.prototype,t);if(n)c(e,n);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return s(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return p(e,t)}function h(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var g=l("17x9");var m=l("mR6N"),y=m.StyleSheet,v=m.css;var w=l("skGw"),S=w.khanFetch;var O=l("nVHT");var P=function(e){u(c,e);function c(){var e;var u;r(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++){n[a]=arguments[a]}u=f(this,(e=s(c)).call.apply(e,[this].concat(n)));h(b(u),"state",{componentInstance:null});h(b(u),"_isMounted",false);h(b(u),"logConversions",function(){var e=u.props,t=e.topic,n=e.scratchpad,a=e.embedded;var c=t.nodeSlug;var r=n.contentKind,d=n.id;var o=r==="Talkthrough"||r==="Challenge";if(!o&&d&&(a||n.originIsProject)){window.setTimeout(function(){S("/api/internal/user/program/".concat(r,":").concat(d,"/log"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic_slug:c})})},1e3)}});h(b(u),"onInitScratchPad",function(){var e=u.props,a=e.ancestorFeedbackType,c=e.embedded,r=e.domain,d=e.topic,o=e.nextSlug,t=e.scratchpad,i=t.id,f=t.userAuthoredContentType,s=t.termMap,b=t.contentKind;u.setState({componentInstance:null});return Promise.all([l.e("corelibs"),l.e("corelibs-legacy"),l.e("shared"),l.e("shared-components"),l.e("wonder-blocks"),l.e("react-components"),l.e("bibliotron"),l.e("3fa99068de23e9956e10785c83deca6d"),l.e("9f1dc927a11637f2ae0f06a3c40e4839"),l.e("202ffdaf65bb3b99881b549c4a77dff1"),l.e("db57c62ad4591639c4cc7623f02f750f"),l.e("8ea30c22d6d4136d6d27d512fdce6778"),l.e("4a7fd6f9c6eb293f3c9beaa666805b09"),l.e("1fb37983e83f76f5e07db3f7f1cc0285"),l.e("5dc483ebc775f7b2c5413e87e2833713"),l.e("894115dd3fcb9c06bd03927225edec3b"),l.e("f593782d4f6b24d0db1a6427496dcf4e"),l.e("ec303f00b610faf1aea8222c4a30f34a"),l.e("f6a205bfea3133a84f9a59cf84c0eac4"),l.e("85c4f06ad6a7b448434879462dbd0c9e"),l.e("9a87944f1b8caa5e159abb50478ca44a"),l.e("0e1b29d63682f2632b2fc88efac86494"),l.e("edbc5d54268b08a4ec7471dac2f58b98"),l.e("21435a7405f9d440a442f9c4e9f7d3cd"),l.e("b8a4d2626d84b9d3c29517e3f55cb676"),l.e("8ba89738e0cc3f43cdc1e489ace4fad2"),l.e("f073b6a96a1bf7ab796418cb12338596"),l.e("d82bb919bf587dbc56e367de5f5928dc"),l.e("4ee3eca946cb236d4ae69a96a9376e8d"),l.e("99a2d7570bfe02138819469ab1af6970"),l.e("e60a1775e2419faf5a23f8bb4ac8d007"),l.e("ef2415f238e49baab5d7f5919e09f390"),l.e("d8bedab3a65ee5615b10b9a845382096"),l.e("875f0d644ab369028394d58d220ee06f"),l.e("b45d75f95aaa5af6a0175ae5692ae1c9"),l.e("0b039feff33f8e65891c082ff88ea130"),l.e("785952e5545ec823b6f564be3a737b5d"),l.e("8d0ada363bc93e010125e45c0b718674"),l.e("f1fe3ba8d100bb3bf0ed6a0a8af06b29"),l.e("edc18c7c16ba2ab4783967b05ef936bd"),l.e("10d0718841fb619598215f14ad13f443"),l.e("1b62996829997904901599ed08d4e014"),l.e("910570961f90fa3e93fefc5f8f9fcf1c"),l.e("c1fdb486c204af9edf905e0a2a190762"),l.e("00ddd0024831066974251d8ccbea3640"),l.e("c19ed17eed0ed37a24c99762b78ab9a0")]).then(l.t.bind(null,"+reu",7)).then(function(e){return e.default}).then(function(e){var t=e.ScratchpadUI,n=e.ScratchpadUIStart;if(!u._isMounted){return}t.ancestorFeedbackType=a;t.termMap=s;n();t.init({id:i,embedded:c,domainSlug:r,topic:d,userAuthoredContentType:f,nextSlug:o,contentKind:b,onSetComponent:function e(t){var n=false;if(u._isMounted){n=true;u.setState({componentInstance:t})}return n}})})});return u}i(c,[{key:"componentDidMount",value:function e(){this._isMounted=true;var t=this.props.topic.nodeSlug;if(window.ga){window.ga("send","event","Learning-Action","Scratchpad-View",t)}this.onInitScratchPad();l.e("5daa4cec15a86c56bcd0f1d273b45483").then(l.t.bind(null,"RtRs",7));l.e("63081905aa191f9d22ff4605cf04d963").then(l.t.bind(null,"dbFz",7));l.e("0c26ece843f0c6cb594109cdc9d4b3cc").then(l.t.bind(null,"kIjF",7));l.e("dc4f1cea1e731c1f7f8e0ff07b58da2b").then(l.t.bind(null,"QaKC",7));l.e("0c26ece843f0c6cb594109cdc9d4b3cc").then(l.t.bind(null,"kIjF",7));this.logConversions()}},{key:"componentDidUpdate",value:function e(t){if(this.props.scratchpad.id!==t.scratchpad.id){this.onInitScratchPad();this.logConversions()}}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"render",value:function e(){var n=this;var t=this.props,a=t.domain,c=t.scratchpad;var r=this.state.componentInstance;return d.createElement("div",{key:c.id,className:v(j.bodyWrapper)},!r&&d.createElement(O,null),d.createElement("div",{className:"box-sizing-content-box-reset"},d.createElement("div",{className:"scratchpad-page bibliotron-scratchpad "+"".concat(a,"-scratchpad"),ref:function e(t){return n.scratchpadNode=t}},r)),d.createElement(o.default,{pageName:"scratchpad_page",fullyInteractive:!!r,sufficientlyUsable:!!r}))}}]);return c}(d.Component);h(P,"propTypes",{ancestorFeedbackType:g.string,domain:g.string.isRequired,embedded:g.bool,nextSlug:g.string,scratchpad:g.shape({id:g.oneOfType([g.number,g.string]),contentKind:g.string,translatedDescription:g.string,translatedTitle:g.string.isRequired,userAuthoredContentType:g.string.isRequired}).isRequired,topic:g.shape({domainSlug:g.string.isRequired,nodeSlug:g.string.isRequired,relativeUrl:g.string.isRequired,translatedTitle:g.string.isRequired})});h(P,"defaultProps",{embedded:true});var j=y.create({bodyWrapper:{marginLeft:16,marginRight:16}});e.exports=P}}]);
//# sourceMappingURL=../../sourcemaps/en/d2d956a9d26c34a2a8904cf9f1d0197e.b82669f6f17da60d9599.js.map