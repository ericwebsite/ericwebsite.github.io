(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["b892048f5af1fbc56e725cf06dbfcd89"],{"/Sg+":function(e,t,n){"use strict";n("ma9I");n("zKZe");n("5DmW");n("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=d(n("q1tI"));var c=n("mR6N");var r=f(n("Pwnf"));var i=n("JimW");var a=f(n("6cSF"));var o=f(n("hDgO"));var s=f(n("6OHE"));var u=f(n("6wxr"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};return p.apply(this,arguments)}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function g(e,t,n){if(t)v(e.prototype,t);if(n)v(e,n);return e}function b(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return m(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)k(e,t)}function k(e,t){k=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return k(e,t)}function O(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var C={path:"M58.524 50.16q0 1.32-.968 2.288l-46.904 46.904q-.968.968-2.288.968t-2.376-.968l-5.016-5.104q-.968-.968-.968-2.288t.968-2.288l39.512-39.512-39.512-39.512q-.968-.968-.968-2.376t.968-2.288l5.016-5.016q.968-.968 2.376-.968t2.288.968l46.904 46.816q.968 1.056.968 2.376z",width:58.333,height:100};var S=function(e){w(o,e);function o(){var e;var n;h(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}n=b(this,(e=y(o)).call.apply(e,[this].concat(r)));O(m(n),"state",{linkAttributes:{},open:false});O(m(n),"handleClick",function(e){var t=n.state.open;if(n.props.children){e.preventDefault();t=!t;n.setState({open:t})}if(n.props.onClick){n.props.onClick(t,e)}});return n}g(o,[{key:"maybeRenderSectionIcon",value:function e(){var t=this.props.children;if(!t){return null}var n=this.state.open?r.default.offBlack:s.default.colors.gray76;return l.createElement("div",{className:(0,c.css)(N.navSectionIcon,this.state.open&&N.navSectionIconOpen)},l.createElement(u.default,{icon:C,size:12,color:n}))}},{key:"renderLink",value:function e(t){var n=this.props,r=n.children,i=n.href,o=n.linkAttributes,a=n.trigger;return l.createElement("a",p({},o,{id:t.get("link"),"aria-expanded":this.state.open,"aria-controls":t.get("content"),className:(0,c.css)(N.navSectionTitle,r&&N.flexSpreadChildren),href:i,onClick:this.handleClick}),a,this.maybeRenderSectionIcon())}},{key:"renderButton",value:function e(t){var n=this.props,r=n.children,i=n.linkAttributes,o=n.trigger;return l.createElement("button",p({},i,{id:t.get("link"),"aria-expanded":this.state.open,"aria-controls":t.get("content"),className:(0,c.css)(N.notAButton,N.navSectionTitle,r&&N.flexSpreadChildren),onClick:this.handleClick}),o,this.maybeRenderSectionIcon())}},{key:"renderInteractiveElement",value:function e(t){var n=this.props.href;var r=n?this.renderLink(t):this.renderButton(t);return l.createElement("heading",null,r)}},{key:"renderItem",value:function e(t){var n=this.props.children;var r=this.state.open?n:null;return l.createElement("li",{id:t.get("item"),className:(0,c.css)(N.navMenuSection)},this.renderInteractiveElement(t),l.createElement(i.View,{id:t.get("content"),role:"region","aria-labelledby":t.get("link")},l.createElement(a.default,{transitionStyle:{enter:N.navSectionClosed,enterActive:N.navSectionOpen,leave:N.navSectionOpen,leaveActive:N.navSectionClosed},transitionEnterTimeout:250,transitionLeaveTimeout:250},r)))}},{key:"render",value:function e(){var t=this;return l.createElement(i.UniqueIDProvider,{scope:"accordion",mockOnFirstRender:false},function(e){return t.renderItem(e)})}}]);return o}(l.Component);t.default=S;var N=c.StyleSheet.create({navSectionClosed:{overflow:"hidden",transition:"max-height .2s ease-out",maxHeight:0},navSectionOpen:{overflow:"hidden",transition:"max-height .2s ease-in",maxHeight:2e3},notAButton:{width:"100%",fontFamily:"inherit",lineHeight:"inherit",fontSize:"inherit",padding:0,margin:0,backgroundColor:"transparent",border:"none",borderRadius:0},navSectionTitle:{color:r.default.offBlack64,cursor:"pointer",display:"block",fontSize:16,fontWeight:"bold",padding:16,textDecoration:"none",":hover":{textDecoration:"underline"}},navMenuSection:{listStyleType:"none",borderBottom:"1px solid ".concat(o.default.tableBorder)},navSectionIcon:{lineHeight:1,transform:"rotate(90deg)",transition:"transform 250ms ease-out"},navSectionIconOpen:{transform:"rotate(-90deg)"},flexSpreadChildren:{alignItems:"center",display:"flex",justifyContent:"space-between"}})},Ew9B:function(e,t,n){"use strict";n("pNMO");n("ma9I");n("TeQF");n("2B1R");n("zKZe");n("5DmW");n("NBAS");n("FZtP");var d=s(n("q1tI"));var p=n("mR6N");var r=a(n("Pwnf"));var h=a(n("qRKg"));var l=a(n("ZpD3"));var v=a(n("FFwm"));var u=a(n("g+DZ"));var i=a(n("6OHE"));var g=a(n("j6G6"));var b=a(n("QCGh"));var y=a(n("TJgv"));var m=a(n("Ntfq"));var w=a(n("Tipd"));var o=a(n("hDgO"));var c=a(n("TRhi"));var f=a(n("/Sg+"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};return k.apply(this,arguments)}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}r.forEach(function(e){P(t,e,n[e])})}return t}function C(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function N(e,t,n){if(t)S(e.prototype,t);if(n)S(e,n);return e}function x(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return E(e)}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return D(e)}function E(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)L(e,t)}function L(e,t){L=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return L(e,t)}function P(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var i18n=n("HEOz");var I=function(e){j(o,e);function o(){var e;var n;C(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}n=x(this,(e=D(o)).call.apply(e,[this].concat(r)));P(E(n),"getDomainConversions",function(){return[{id:"global_nav_choose_domain",extra:{domain:n.props.domain.identifier,view:"mobile"}}]});P(E(n),"handleClick",function(e,t){if(n.props.domain.children.length){if(e){l.default.markConversionsWithExtras(n.getDomainConversions())}}else{}});return n}N(o,[{key:"render",value:function e(){var n=this;var r=this.props.domain;var t=r&&r.children.length!==0;if(!t&&this.props.hideNonSubmenuLinks){return null}var i=r.children.length-1;var o=r.children.map(function(e,t){return d.createElement("li",{key:e.identifier},d.createElement(u.default,{className:(0,p.css)(A.navSectionChildLink,A.navSectionContentText,t===0&&A.firstNavSectionChildLink,t===i&&A.lastNavSectionChildLink),to:e.href,conversions:[{id:"global_nav_choose_subject",extra:{domain:r.identifier,subject:e.identifier,view:"mobile"}}],onClick:n.props.onClickLink},e.translatedTitle))});var a=r.identifier;var l=null;if(t){l=d.createElement("ul",{key:a,"data-test-mobile-menu-domain":a},o)}var c=r.children.length===0?v.default.handlersWithExtras(this.getDomainConversions()):{};var s=O({},c,{"data-test-mobile-menu-header-domain":a});return d.createElement(f.default,{trigger:r.translatedTitle,href:t?null:r.href,onClick:this.handleClick,linkAttributes:s},l)}}]);return o}(d.Component);var T=function(e){j(i,e);function i(){var e;var a;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}a=x(this,(e=D(i)).call.apply(e,[this].concat(n)));P(E(a),"state",{showNotifications:false});P(E(a),"notificationsSwitch",null);P(E(a),"hasOpenedNotifications",false);P(E(a),"handleScroll",function(e){if(!a.state.showNotifications||!a.props.loadNotifications||!(e.target instanceof HTMLElement)){return}var t=e.target,n=t.scrollHeight,r=t.clientHeight,i=t.scrollTop;var o=2;if(i+r>=n-o){a.props.loadNotifications();e.preventDefault()}});P(E(a),"handleUserMenuToggle",function(e){if(e){l.default.markMinorConversions([{id:"global_nav_open_user_menu",extra:{view:"mobile"}}])}});P(E(a),"handleNotificationsToggle",function(){if(!a.hasOpenedNotifications){a.props.loadNotifications();a.hasOpenedNotifications=true}var e=!a.state.showNotifications;if(e){l.default.markMinorConversions([{id:"global_nav_open_notifications",extra:{view:"mobile"}}])}a.setState({showNotifications:e},function(){if(a.notificationsSwitch){a.notificationsSwitch.focus()}})});P(E(a),"renderLoggedInFooter",function(e,t){return[d.createElement(f.default,{key:"user-menu",trigger:e.isPhantom?i18n._("New user"):e.nickName||"",onClick:a.handleUserMenuToggle},d.createElement(c.default,k({},e,{signUpUrl:"/signup",tabbable:true,onCloseDropdown:a.props.onClickLink,navigateToNotificationsSwitch:function e(){}}))),d.createElement(m.default,{innerRef:function e(t){return a.notificationsSwitch=t},key:"notifications-button",buttonStyles:[A.navSectionTitle,A.flexSpreadChildren],direction:"right",onClick:a.handleNotificationsToggle,notificationCount:t?t.newNotificationCount:0})]});return a}N(i,[{key:"componentDidUpdate",value:function e(t,n){if(!n.showNotifications&&this.state.showNotifications){this.props.onOpenNotifications()}}},{key:"render",value:function e(){var n=this;var t=this.props,r=t.profileData,i=t.hideNonSubmenuLinks,o=t.notifications;if(this.state.showNotifications){return d.createElement("div",{className:(0,p.css)(A.container),onScroll:this.handleScroll},d.createElement(m.default,{innerRef:function e(t){return n.notificationsSwitch=t},buttonStyles:[A.navSectionTitle,A.flexSpreadChildren],direction:"left",onClick:this.handleNotificationsToggle,notificationCount:o?o.newNotificationCount:0}),d.createElement(y.default,k({},o,{tabbable:true})))}var a=!r;var l=!!r&&r.isPhantom===false;var c=!!r&&r.isPhantom!==false;var s=this.props.domains.map(function(e,t){return d.createElement(I,{domain:e,key:t,hideNonSubmenuLinks:i,onClickLink:n.props.onClickLink})});var u=[d.createElement("a",k({key:"login",className:(0,p.css)(A.navSectionTitle,A.splitLoginLink),href:w.default.getLoginURL()},v.default.handlers(["global_nav_login_clicked"])),i18n._("Login")),d.createElement("a",{key:"signup",className:(0,p.css)(A.navSectionTitle,A.splitLoginLink),href:w.default.getSignupURL()},i18n._("Sign up"))];var f=g.default.featureFlag("SHOW_LOGGED_IN_DONATE_LINK");return d.createElement("div",{className:(0,p.css)(A.container)},d.createElement("ul",{className:(0,p.css)(A.mainList)},(a||c)&&!i&&d.createElement("li",{className:(0,p.css)(A.navMenuSection,A.loginSignupLinks)},u),s,!a&&!i&&r&&this.renderLoggedInFooter(r,o),a&&!i&&d.createElement("li",{className:(0,p.css)(A.navMenuSection)},d.createElement("a",{className:(0,p.css)(A.navSectionTitle,A.informationLink),href:"/about"},d.createElement("span",{"aria-hidden":"true"},i18n._("About")),d.createElement("span",{className:(0,p.css)(h.default.srOnly)},i18n._("About Khan Academy")))),(a||f)&&!i&&d.createElement("li",{className:(0,p.css)(A.navMenuSection)},d.createElement(b.default,k({"data-test-id":"mobile-menu-donate-link",style:[A.navSectionTitle,A.informationLink]},v.default.handlersWithExtras([{id:"global_nav_donate_clicked",extra:{view:"mobile",isLoggedIn:l,isPhantom:c,kaid:g.default.getKaid()}}]),{href:"/donate"}),i18n._("Donate")))))}}]);return i}(d.Component);P(T,"defaultProps",{onOpenNotifications:function e(){},onClickLink:function e(){}});var A=p.StyleSheet.create({container:{background:i.default.colors.gray98,height:"calc(100vh - 60px)",overflowY:"auto"},mainList:{paddingTop:0,marginTop:5},navSectionChildLink:{display:"block",fontSize:15,padding:"8px 16px"},firstNavSectionChildLink:{paddingTop:0},lastNavSectionChildLink:{paddingBottom:16},navSectionContentText:{color:i.default.colors.gray25,cursor:"pointer",textDecoration:"none"},navSectionTitle:{color:r.default.offBlack64,cursor:"pointer",display:"block",fontSize:16,fontWeight:"bold",padding:16,textDecoration:"none",":hover":{textDecoration:"underline"}},flexSpreadChildren:{alignItems:"center",display:"flex",justifyContent:"space-between"},navMenuSection:{borderBottom:"1px solid ".concat(o.default.tableBorder)},loginSignupLinks:{display:"flex"},splitLoginLink:{display:"inline-block",width:"50%",backgroundColor:r.default.darkBlue,color:o.default.white,fontWeight:"normal",padding:"13px 0",":first-of-type":{textAlign:"right",paddingRight:"8%"},":last-of-type":{textAlign:"left",paddingLeft:"8%"},":hover":{backgroundColor:"auto"}},informationLink:{color:o.default.textColor,fontWeight:"normal",textAlign:"center",padding:"10px 20px"}});e.exports=T},Ntfq:function(e,t,n){"use strict";n("pNMO");n("ma9I");n("TeQF");n("5DmW");n("NBAS");n("FZtP");var o=u(n("q1tI"));var r=i(n("17x9"));var a=n("mR6N");var l=i(n("6OHE"));var c=i(n("6wxr"));var s=i(n("zEAc"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}r.forEach(function(e){w(t,e,n[e])})}return t}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function h(e,t,n){if(t)p(e.prototype,t);if(n)p(e,n);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return m(e,t)}function w(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var i18n=n("HEOz");var k=function(e){y(i,e);function i(){var e;var a;d(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}a=v(this,(e=g(i)).call.apply(e,[this].concat(n)));w(b(a),"handleClick",function(e){var t=a.props.onClick;if(t){e.preventDefault();t()}});w(b(a),"handleKeyDown",function(e){var t=a.props,n=t.onClick,r=t.onEscape,i=t.onArrowDown,o=t.onArrowUp;if((e.key==="Enter"||e.key===" ")&&n){e.preventDefault();n()}else if(e.key==="Escape"&&r){e.preventDefault();r()}else if(e.key==="Tab"&&r){r()}else if(e.key==="ArrowDown"&&i){e.preventDefault();i()}else if(e.key==="ArrowUp"&&o){e.preventDefault();o()}});return a}h(i,[{key:"render",value:function e(){var t=this.props,n=t.buttonStyles,r=t.direction,i=t.notificationCount;return o.createElement("li",{className:(0,a.css)(O.listItem)},o.createElement("button",{ref:this.props.innerRef,onClick:this.handleClick,onKeyDown:this.handleKeyDown,className:a.css.apply(void 0,[O.notAButton,O.switch].concat(n)),"data-test-id":"header-notifications-switch"},r==="left"&&o.createElement("div",{className:(0,a.css)(O.switchArrow,O.switchArrowLeft)},o.createElement(c.default,{icon:s.default,size:15,color:l.default.colors.gray17})),o.createElement("div",{className:(0,a.css)(O.switchText)},i18n._("Notifications"),o.createElement("span",{className:(0,a.css)(O.dot)},"Â·"),i),r==="right"&&o.createElement("div",{className:(0,a.css)(O.switchArrow,O.switchArrowRight)},o.createElement(c.default,{icon:s.default,size:15,color:l.default.colors.gray17}))))}}]);return i}(o.Component);w(k,"propTypes",{buttonStyles:r.default.arrayOf(r.default.any),direction:r.default.oneOf(["left","right"]).isRequired,notificationCount:r.default.number.isRequired,onClick:r.default.func,onEscape:r.default.func,onArrowDown:r.default.func,onArrowUp:r.default.func,innerRef:r.default.func});var O=a.StyleSheet.create({notAButton:{background:"transparent",border:"none",padding:"none",width:"100%",textAlign:"left"},dot:{padding:"0 7px"},listItem:{paddingTop:4,backgroundColor:l.default.colors.white,listStyleType:"none"},switch:{alignItems:"center",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",boxSizing:"border-box",color:"inherit",display:"flex",justifyContent:"space-around",padding:"8px 16px 12px 16px",textDecoration:"none"},switchText:f({},l.default.typography.bodyXsmallBold,{fontSize:15,fontWeight:600,lineHeight:"22px",flexGrow:1}),switchArrow:{alignItems:"center",display:"flex",justifyContent:"center"},switchArrowLeft:{marginRight:24},switchArrowRight:{transform:"scaleX(-1)"}});e.exports=k},TJgv:function(e,t,n){"use strict";n("2B1R");n("zKZe");n("5DmW");n("NBAS");n("07d7");n("5s+n");var s=r(n("q1tI"));function r(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};return u.apply(this,arguments)}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function a(e,t,n){if(t)o(e.prototype,t);if(n)o(e,n);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return f(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return p(e,t)}function h(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var v=n("17x9");var g=n("mR6N"),b=g.StyleSheet,y=g.css;var m=n("nVHT");var i18n=n("HEOz");var w=function(e){d(t,e);function t(){var e;i(this,t);e=l(this,c(t).call(this));h(f(e),"state",{ReadableNotification:null});h(f(e),"_hasUnmounted",false);e.navigableChildren=[];return e}a(t,[{key:"componentDidMount",value:function e(){var t=this;Promise.all([n.e("corelibs"),n.e("shared-components"),n.e("react-components"),n.e("246618b2fb0cda9f132c46b9925c444b"),n.e("4291ce5a4b0479ea92ea5383f5b2cc7f"),n.e("f6f764d9b4d307687ed736129e6f6985")]).then(n.t.bind(null,"NWy3",7)).then(function(e){return e.default}).then(function(e){if(!t._hasUnmounted){t.setState({ReadableNotification:e})}})}},{key:"componentWillUnmount",value:function e(){this._hasUnmounted=true}},{key:"setLinkRef",value:function e(t,n){var r=this.props.captureFirstNavigableChildRef;this.navigableChildren[n]=t;if(n===0&&r){r(t)}}},{key:"getClickedNavigableIndex",value:function e(t){return parseInt(t.target.parentNode.getAttribute("data-navigable-index"))}},{key:"handleonKeyUpLink",value:function e(t){var n=this.props.onDropdownClose;if(t.key==="Escape"){t.preventDefault();if(n){this.onDropdownClose()}}else if(t.key==="Tab"){if(n){this.onDropdownClose()}}else if(t.key==="ArrowDown"){t.preventDefault();var r=this.getClickedNavigableIndex(t);if(r===this.navigableChildren.length-1){return}var i=this.navigableChildren[r+1];i.firstChild.focus()}else if(t.key==="ArrowUp"){t.preventDefault();var o=this.getClickedNavigableIndex(t);if(o===0){this.props.navigateToNotificationsSwitch(t)}else{var a=this.navigableChildren[o-1];a.firstChild.focus()}}}},{key:"render",value:function e(){var r=this;var t=this.props,n=t.loading,i=t.notifications,o=t.tabbable;var a=this.state.ReadableNotification;var l=i.length>0;var c=n||l&&!a;return s.createElement("ul",{"data-test-id":"notifications-dropdown"},!n&&!l&&s.createElement("li",{className:y(k.empty)},i18n._("No notifications. You can get back to learning!")),a&&i.map(function(e,n){return s.createElement("li",{key:n},s.createElement(a,u({},e,{innerRef:function e(t){return r.setLinkRef(t,n)},onKeyUp:function e(t){return r.handleonKeyUpLink(t)},indexInNotificationsList:n,tabbable:o})))}),c&&s.createElement("li",{className:y(k.empty,l&&k.loadingMore)},s.createElement(m,null)))}}]);return t}(s.Component);h(w,"propTypes",{loading:v.bool,notifications:v.arrayOf(v.any.isRequired).isRequired,onDropdownClose:v.func,captureFirstNavigableChildRef:v.func,navigateToNotificationsSwitch:v.func,tabbable:v.bool});h(w,"getDefaultProps",{loading:false,notifications:[],onDropdownClose:function e(){},captureFirstNavigableChildRef:function e(){},navigateToNotificationsSwitch:function e(){}});var k=b.create({empty:{alignItems:"center",display:"flex",height:150,justifyContent:"center"},loadingMore:{height:18}});e.exports=w},TRhi:function(e,t,n){"use strict";n("pNMO");n("ma9I");n("TeQF");n("5DmW");n("NBAS");n("FZtP");var d=u(n("q1tI"));var p=n("mR6N");var r=a(n("Pwnf"));var o=a(n("ZpD3"));var h=a(n("whzC"));var l=a(n("DiaA"));var i=a(n("6OHE"));var v=a(n("17AU"));var c=a(n("Tipd"));var g=a(n("g+DZ"));var s=n("9O3C");function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}r.forEach(function(e){N(t,e,n[e])})}return t}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function m(e,t,n){if(t)y(e.prototype,t);if(n)y(e,n);return e}function w(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return O(e)}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return S(e,t)}function N(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var x=n("iQJ3");var i18n=n("HEOz");var D=function(e){C(i,e);function i(){var e;var a;b(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}a=w(this,(e=k(i)).call.apply(e,[this].concat(n)));N(O(a),"state",{logoutUrl:""});N(O(a),"navigableChildren",[]);N(O(a),"setLinkRef",function(e,t){a.navigableChildren[t]=e;if(t===0&&a.props.captureFirstNavigableChildRef){a.props.captureFirstNavigableChildRef(e)}});N(O(a),"getNavigableIndex",function(e){var t=a.props,n=t.showSignUpToSave,r=t.showCoachingLinks,i=t.showSettings;var o=0;if(e==="signIn"){return o}else{if(n){o++}}if(e==="learningHome"){return o}else{o++}if(e==="coachDashboard"){return o}else{if(r){o++}}if(e==="parentDashboard"){return o}else{if(r){o++}}if(e==="settings"){return o}else{if(i){o++}}if(e==="help"){return o}else{o++}return o});N(O(a),"getClickedNavigableIndex",function(e){var t=e.target.parentNode.getAttribute("data-navigable-index");return typeof t==="undefined"?0:parseInt(t)});N(O(a),"handleLogoutClick",function(e){e.preventDefault();s.CLASS_CONSTANTS.forEach(function(e){x.del(e)});var t=c.default.getLogoutURL(a.props.currentUrl);l.default.logout(function(){window.location=t})});N(O(a),"logSignInClicked",function(){o.default.markConversion("global_nav_phantom_signin_clicked")});N(O(a),"handleArrowDownLink",function(e){e.preventDefault();var t=a.getClickedNavigableIndex(e);if(t===a.navigableChildren.length-1){return}var n=a.navigableChildren[t+1];n.firstChild.focus()});N(O(a),"handleArrowUpLink",function(e){e.preventDefault();var t=a.getClickedNavigableIndex(e);if(t===0){a.props.navigateToNotificationsSwitch(e)}else{var n=a.navigableChildren[t-1];n.firstChild.focus()}});N(O(a),"handleLinkClick",function(e,t){var n=a.props.onCloseDropdown;e.preventDefault();window.location.href=t;if(n){n()}});N(O(a),"handleKeyDownLink",function(e,t){var n=a.props.onCloseDropdown;if(e.key==="Enter"||e.key===" "){a.handleLinkClick(e,t)}else if(e.key==="Escape"){e.preventDefault();if(n){n()}}else if(e.key==="Tab"){if(n){n()}}else if(e.key==="ArrowDown"){a.handleArrowDownLink(e)}else if(e.key==="ArrowUp"){a.handleArrowUpLink(e)}});N(O(a),"handleKeyDownLogSignIn",function(e){var t=a.props.profileUrl;if(e.key==="Enter"||e.key===" "){a.logSignInClicked()}a.handleKeyDownLink(e,t)});return a}m(i,[{key:"componentDidMount",value:function e(){this.setState({logoutUrl:c.default.getLogoutURL(this.props.currentUrl)})}},{key:"render",value:function e(){var n=this;var t=this.props,r=t.showSettings,i=t.showSignUpToSave,o=t.showCoachingLinks,a=t.signUpUrl,l=t.isPhantom,c=t.tabbable;var s=h.default.safeLinkTo("https://khanacademy.zendesk.com");var u="/coach/dashboard";var f="/?learn=1";return d.createElement("ul",{className:(0,p.css)(E.menu),"data-test-id":"header-user-settings"},i&&d.createElement("li",{"data-navigable-index":this.getNavigableIndex("signIn"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("signIn"))}},d.createElement("a",{href:a,className:(0,p.css)(E.item,E.itemFirst,E.signIn),onClick:this.logSignInClicked,onKeyDown:this.handleKeyDownLogSignIn,tabIndex:c?0:-1},i18n._("Sign in to claim your points"))),d.createElement("li",{"data-navigable-index":this.getNavigableIndex("learningHome"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("learningHome"))}},d.createElement(g.default,{to:"/?learn=1",style:E.item,onClick:this.props.onCloseDropdown,onKeyDown:function e(t){return n.handleKeyDownLink(t,f)},tabIndex:c?0:-1,"data-test-id":"learner-home-button"},d.createElement(v.default,{mockOnFirstRender:true},function(e){var t=e.featureFlag("GANDALF_LP_NEW_LIHP");return t?i18n._("Learner home"):i18n._("Learning home")}))),o&&d.createElement("li",{"data-navigable-index":this.getNavigableIndex("coachDashboard"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("coachDashboard"))}},d.createElement(g.default,{to:"/coach/dashboard",style:[E.item,E.teacherDashboard],onClick:this.props.onCloseDropdown,onKeyDown:function e(t){return n.handleKeyDownLink(t,u)},tabIndex:c?0:-1},i18n._("Teacher dashboard"))),o&&d.createElement("li",{"data-navigable-index":this.getNavigableIndex("parentDashboard"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("parentDashboard"))},className:(0,p.css)(E.parentDashboard)},d.createElement("a",{href:"/parent",className:(0,p.css)(E.item),tabIndex:c?0:-1,onKeyDown:function e(t){return n.handleKeyDownLink(t,"/parent")}},i18n._("Parent dashboard"))),r&&d.createElement("li",{"data-navigable-index":this.getNavigableIndex("settings"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("settings"))}},d.createElement("a",{href:"/settings/account",className:(0,p.css)(E.item),tabIndex:c?0:-1,onKeyDown:function e(t){return n.handleKeyDownLink(t,"/settings/account")}},i18n._("Settings"))),d.createElement("li",{"data-navigable-index":this.getNavigableIndex("help"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("help"))}},d.createElement("a",{href:s,className:(0,p.css)(E.item),tabIndex:c?0:-1,onKeyDown:function e(t){return n.handleKeyDownLink(t,s)}},i18n._("Help"))),!l&&d.createElement("li",{"data-navigable-index":this.getNavigableIndex("logout"),ref:function e(t){return n.setLinkRef(t,n.getNavigableIndex("logout"))}},d.createElement("a",{className:(0,p.css)(E.item,E.itemLast),onClick:this.handleLogoutClick,onKeyDown:function e(t){return n.handleKeyDownLink(t,n.state.logoutUrl)},href:this.state.logoutUrl,rel:"nofollow",tabIndex:c?0:-1,"data-test-id":"user-settings-logout-link"},i18n._("Log out"))))}}]);return i}(d.Component);var E=p.StyleSheet.create({menu:f({},i.default.typography.bodyXsmallBold),item:{backgroundColor:i.default.colors.gray98,color:i.default.colors.gray17,display:"block",padding:"8px 16px",textDecoration:"none",":hover":{backgroundColor:i.default.colors.gray95,color:r.default.blue,textDecoration:"none"}},itemFirst:{paddingTop:16},itemLast:{paddingBottom:12,marginBottom:4},signIn:{color:i.default.colors.kaGreen},parentDashboard:{"@rtl":{display:"none"}},teacherDashboard:{"@rtl":{display:"none"}}});e.exports=D}}]);
//# sourceMappingURL=../../sourcemaps/en/b892048f5af1fbc56e725cf06dbfcd89.334235247a0013922135.js.map